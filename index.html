<html>
  <head>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js'></script>
    <script>
      $(document).ready(function(){
        
        function debug(str){ 
          $("#debug").append("<p>"+str+"</p>");
        };

        var socket = new WebSocket("ws://localhost:8080");
        
        socket.onopen = function() {
          debug("connected...");
          ws.send("hello server");
        };
        
        socket.onmessage = function(evt) {
          $("#msg").append("<p>"+evt.data+"</p>");
        };
        
        socket.onclose = function() { debug("socket closed"); };
        
        $('#button').click(function() {
          setInterval(function(){socket.send(Math.random())},500);
        });
        
      });
    </script>
  </head>
  <body>
    <div id="debug"></div>
    <button type="button" id="button">Start sending random numbers</button>
    <div id="msg"></div>
  </body>
</html>